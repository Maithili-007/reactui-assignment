import{j as a}from"./jsx-runtime-CDt2p4po.js";import{R as p}from"./index-GiUgBvb1.js";function L({data:f,columns:c,loading:_=!1,selectable:m=!1,onRowSelect:s,emptyText:z="No data"}){const[d,b]=p.useState(null),[n,j]=p.useState(null),[u,h]=p.useState(new Set),o=p.useMemo(()=>{if(!d||!n)return f;const e=[...f];return e.sort((t,r)=>{const l=t[d],i=r[d];if(l==null&&i==null)return 0;if(l==null)return n==="asc"?-1:1;if(i==null)return n==="asc"?1:-1;if(typeof l=="number"&&typeof i=="number")return n==="asc"?l-i:i-l;const T=String(l).toLowerCase(),N=String(i).toLowerCase();return n==="asc"?T.localeCompare(N):N.localeCompare(T)}),e},[f,d,n]);function B(e){d!==e?(b(e),j("asc")):(j(t=>t==="asc"?"desc":t==="desc"?null:"asc"),n===null&&b(null))}function D(e){h(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),s==null||s(Array.from(r).map(l=>o[l])),r})}function O(){if(u.size===o.length)h(new Set),s==null||s([]);else{const e=new Set(o.map((t,r)=>r));h(e),s==null||s(o)}}return a.jsx("div",{className:"w-full overflow-x-auto rounded-xl border border-gray-200 dark:border-gray-800",children:a.jsxs("table",{className:"min-w-full text-left",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:a.jsxs("tr",{children:[m&&a.jsx("th",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox","aria-label":"Select all rows",checked:u.size>0&&u.size===o.length,onChange:O})}),c.map(e=>{const t=d===e.dataIndex&&n;return a.jsx("th",{className:"px-3 py-2 text-sm font-semibold",children:e.sortable?a.jsxs("button",{className:"inline-flex items-center gap-1 hover:underline",onClick:()=>B(e.dataIndex),"aria-label":`Sort by ${e.title}`,children:[a.jsx("span",{children:e.title}),a.jsx("span",{"aria-hidden":"true",children:t==="asc"?"▲":t==="desc"?"▼":""})]}):e.title},e.key)})]})}),a.jsx("tbody",{children:_?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:c.length+(m?1:0),children:"Loading..."})}):o.length===0?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-8 text-center text-sm text-gray-500",colSpan:c.length+(m?1:0),children:z})}):o.map((e,t)=>a.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900 dark:even:bg-gray-800",children:[m&&a.jsx("td",{className:"px-3 py-2",children:a.jsx("input",{type:"checkbox","aria-label":`Select row ${t+1}`,checked:u.has(t),onChange:()=>D(t)})}),c.map(r=>a.jsx("td",{className:"px-3 py-2 text-sm",children:String(e[r.dataIndex]??"")},r.key))]},t))})]})})}L.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data'",computed:!1}}}};const V=[{id:1,name:"Alice",email:"alice@site.com",role:"Admin"},{id:2,name:"Bob",email:"bob@site.com",role:"User"},{id:3,name:"Cara",email:"cara@site.com",role:"User"}],K=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email",sortable:!0},{key:"role",title:"Role",dataIndex:"role"}],M={title:"Components/DataTable",component:L,tags:["autodocs"],args:{data:V,columns:K,selectable:!0}},g={},x={args:{data:[]}},y={args:{loading:!0}};var k,C,v;g.parameters={...g.parameters,docs:{...(k=g.parameters)==null?void 0:k.docs,source:{originalSource:"{}",...(v=(C=g.parameters)==null?void 0:C.docs)==null?void 0:v.source}}};var S,w,A;x.parameters={...x.parameters,docs:{...(S=x.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    data: []
  }
}`,...(A=(w=x.parameters)==null?void 0:w.docs)==null?void 0:A.source}}};var I,q,E;y.parameters={...y.parameters,docs:{...(I=y.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    loading: true
  }
}`,...(E=(q=y.parameters)==null?void 0:q.docs)==null?void 0:E.source}}};const F=["Basic","Empty","Loading"];export{g as Basic,x as Empty,y as Loading,F as __namedExportsOrder,M as default};
